{"ast":null,"code":"import _classCallCheck from \"/Users/nvolpe/Dropbox/sites/view/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/nvolpe/Dropbox/sites/view/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/nvolpe/Dropbox/sites/view/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/nvolpe/Dropbox/sites/view/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/nvolpe/Dropbox/sites/view/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/nvolpe/Dropbox/sites/view/client/src/modules/Calendar.js\";\nimport React, { Component } from 'react';\nimport './Calendar.scss';\nimport _ from \"lodash\";\nimport Moment from \"react-moment\";\nimport moment from \"moment\";\n\nvar Calendar =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Calendar, _Component);\n\n  function Calendar() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Calendar);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Calendar)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      calendar: \"\",\n      updated: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(Calendar, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(props) {\n      //this.setState({calendar: this.props.data});\n      console.log(props);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!_.isEmpty(this.state.calendar)) {\n        var calendarItems = this.state.calendar.items;\n        var todaysEvents = [];\n        var tomorrowsEvents = [];\n        var otherEvents = [];\n        calendarItems.forEach(function (item, index) {\n          if (item.start.dateTime) {\n            calendarItems[index].friendlyTime = moment(item.start.dateTime).format(\"h:mma\");\n            calendarItems[index].day = moment(item.start.dateTime).format(\"YYYY-MM-DD\");\n          } else if (item.start.date) {\n            calendarItems[index].friendlyTime = \"All day\";\n            calendarItems[index].day = moment(item.start.date).format(\"YYYY-MM-DD\");\n          }\n\n          if (moment().format(\"YYYY-MM-DD\") === calendarItems[index].day) {\n            todaysEvents.push(item);\n          } else if (moment().add(1, 'days').format(\"YYYY-MM-DD\") === calendarItems[index].day) {\n            tomorrowsEvents.push(item);\n          } else {\n            otherEvents.push(item);\n          }\n        });\n      }\n\n      return React.createElement(\"div\", {\n        style: {\n          backgroundColor: this.props.color\n        },\n        className: \"module calendar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, !_.isEmpty(this.state.calendar) ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"calendar-name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, this.state.calendar.summary), todaysEvents.length ? React.createElement(\"div\", {\n        className: \"group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"group-name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, \"Today\"), todaysEvents.map(function (item) {\n        return React.createElement(\"div\", {\n          className: \"event\",\n          key: item.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          className: \"time\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, item.friendlyTime), \" \", React.createElement(\"p\", {\n          className: \"summary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, item.summary));\n      })) : null, tomorrowsEvents.length ? React.createElement(\"div\", {\n        className: \"group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"group-name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"Tomorrow\"), tomorrowsEvents.map(function (item) {\n        return React.createElement(\"div\", {\n          className: \"event\",\n          key: item.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          className: \"time\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, item.friendlyTime), \" \", React.createElement(\"p\", {\n          className: \"summary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, item.summary));\n      })) : null, otherEvents.length ? React.createElement(\"div\", {\n        className: \"group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"group-name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"2+ Days From Now\"), otherEvents.map(function (item) {\n        return React.createElement(\"div\", {\n          className: \"event\",\n          key: item.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          className: \"time\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, React.createElement(Moment, {\n          format: \"M/D\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, item.day)), \" \", React.createElement(\"p\", {\n          className: \"summary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, item.summary));\n      })) : null, !calendarItems.length ? React.createElement(\"div\", {\n        className: \"none\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"No events\") : null, React.createElement(\"p\", {\n        className: \"updated\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(Moment, {\n        fromNow: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, this.state.updated))) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"Loading\"));\n    }\n  }]);\n\n  return Calendar;\n}(Component);\n\nexport default Calendar;","map":{"version":3,"sources":["/Users/nvolpe/Dropbox/sites/view/client/src/modules/Calendar.js"],"names":["React","Component","_","Moment","moment","Calendar","state","calendar","updated","props","console","log","isEmpty","calendarItems","items","todaysEvents","tomorrowsEvents","otherEvents","forEach","item","index","start","dateTime","friendlyTime","format","day","date","push","add","backgroundColor","color","summary","length","map","id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './Calendar.scss';\nimport _ from \"lodash\";\nimport Moment from \"react-moment\";\nimport moment from \"moment\";\n\nclass Calendar extends Component {\n    state = {\n        calendar: \"\",\n        updated: \"\"\n    }\n\n    componentWillReceiveProps(props) {\n        //this.setState({calendar: this.props.data});\n        console.log(props)\n    }\n\n    render() {\n        if (!_.isEmpty(this.state.calendar)) {\n            var calendarItems = this.state.calendar.items;\n            var todaysEvents = [];\n            var tomorrowsEvents = [];\n            var otherEvents = [];\n            calendarItems.forEach(function (item, index) {\n                if (item.start.dateTime) {\n                    calendarItems[index].friendlyTime = moment(item.start.dateTime).format(\"h:mma\");\n                    calendarItems[index].day = moment(item.start.dateTime).format(\"YYYY-MM-DD\");\n                } else if (item.start.date) {\n                    calendarItems[index].friendlyTime = \"All day\";\n                    calendarItems[index].day = moment(item.start.date).format(\"YYYY-MM-DD\");\n                }\n                if (moment().format(\"YYYY-MM-DD\") === calendarItems[index].day) {\n                    todaysEvents.push(item);\n                } else if (moment().add(1, 'days').format(\"YYYY-MM-DD\") === calendarItems[index].day) {\n                    tomorrowsEvents.push(item);\n                } else {\n                    otherEvents.push(item);\n                }\n            });\n        }\n        return (\n            <div style={{ backgroundColor: this.props.color }} className=\"module calendar\">\n                {!_.isEmpty(this.state.calendar) ? (\n                    <div>\n                        <h1 className=\"calendar-name\">{this.state.calendar.summary}</h1>\n\n                        {todaysEvents.length ? (\n                            <div className=\"group\">\n                                <h2 className=\"group-name\">Today</h2>\n                                {todaysEvents.map(item =>\n                                    <div className=\"event\" key={item.id}>\n                                        <p className=\"time\">{item.friendlyTime}</p> <p className=\"summary\">{item.summary}</p>\n                                    </div>\n                                )}\n                            </div>\n                        ) : null}\n\n                        {tomorrowsEvents.length ? (\n                            <div className=\"group\">\n                                <h2 className=\"group-name\">Tomorrow</h2>\n                                {tomorrowsEvents.map(item =>\n                                    <div className=\"event\" key={item.id}>\n                                        <p className=\"time\">{item.friendlyTime}</p> <p className=\"summary\">{item.summary}</p>\n                                    </div>\n                                )}\n                            </div>\n                        ) : null}\n\n                        {otherEvents.length ? (\n                            <div className=\"group\">\n                                <h2 className=\"group-name\">2+ Days From Now</h2>\n                                {otherEvents.map(item =>\n                                    <div className=\"event\" key={item.id}>\n                                        <p className=\"time\"><Moment format=\"M/D\">{item.day}</Moment></p> <p className=\"summary\">{item.summary}</p>\n                                    </div>\n                                )}\n                            </div>\n                        ) : null}\n\n                        {!calendarItems.length ? (\n                            <div className=\"none\">No events</div>\n                        ): null}\n\n                        <p className=\"updated\"><Moment fromNow>{this.state.updated}</Moment></p>\n                    </div>\n                ) : <div>Loading</div>}\n            </div>\n        );\n    }\n}\n\nexport default Calendar;"]},"metadata":{},"sourceType":"module"}