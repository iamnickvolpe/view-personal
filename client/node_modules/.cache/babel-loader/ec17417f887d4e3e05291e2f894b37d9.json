{"ast":null,"code":"import _classCallCheck from \"/Users/nicholasvolpe/Desktop/view/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/nicholasvolpe/Desktop/view/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/nicholasvolpe/Desktop/view/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/nicholasvolpe/Desktop/view/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/nicholasvolpe/Desktop/view/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/nicholasvolpe/Desktop/view/client/src/modules/Time.js\";\nimport React, { Component } from 'react';\nimport Moment from \"react-moment\";\nimport './Time.scss';\n\nvar Time =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Time, _Component);\n\n  function Time() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Time);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Time)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      clockSize: \"996\"\n    };\n    return _this;\n  }\n\n  _createClass(Time, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var canvas = this.refs.canvas; //canvas.style.width = \"80%\";\n      //canvas.style.height = \"80%\";\n\n      this.setState({\n        clockSize: this.refs.clockWrapper.offsetWidth\n      });\n      var ctx = this.refs.canvas.getContext('2d');\n      var radius = canvas.height / 4;\n      ctx.scale(2, 2);\n      ctx.translate(radius, radius);\n      radius = radius * 0.8;\n      setInterval(function () {\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        ctx.save();\n        drawNumbers(ctx, radius);\n        drawSeasons(ctx, radius);\n        drawTime(ctx, radius);\n        ctx.restore();\n      }, 1000);\n\n      function drawNumbers(ctx, radius) {\n        var ang;\n        ctx.font = radius * 0.15 + \"px arial\";\n        ctx.fillStyle = \"white\";\n        ctx.textBaseline = \"middle\";\n        ctx.textAlign = \"center\";\n        var months = [\"Jan\", \"•\", \"•\", \"Apr\", \"•\", \"•\", \"Jul\", \"•\", \"•\", \"Oct\", \"•\", \"•\"];\n        months.forEach(function (month, num) {\n          ang = num * Math.PI / 6;\n          ctx.rotate(ang);\n          ctx.translate(0, -radius * 0.75);\n          ctx.rotate(-ang);\n          ctx.fillText(month, 0, 0);\n          ctx.rotate(ang);\n          ctx.translate(0, radius * 0.75);\n          ctx.rotate(-ang);\n        });\n      }\n\n      function getPosition(ms) {\n        var now = new Date();\n        var yearStartMS = new Date(now.getFullYear(), 0, 1).getTime();\n        var yearEndMS = new Date(now.getFullYear(), 11, 31).getTime();\n        var totalDistanceMS = yearEndMS - yearStartMS;\n        var totalDistanceRadians = 2 * Math.PI;\n        var distanceMS = ms - yearStartMS;\n        var distanceRatio = distanceMS / totalDistanceMS;\n        return totalDistanceRadians * distanceRatio - .5 * Math.PI;\n      }\n\n      function drawSeasons(ctx, radius) {\n        var now = new Date();\n        var winterStartMS = new Date(now.getFullYear() - 1, 11, 21).getTime();\n        var winterEndMS = new Date(now.getFullYear(), 2, 20).getTime();\n        var springStartMS = new Date(now.getFullYear(), 2, 20).getTime();\n        var springEndMS = new Date(now.getFullYear(), 5, 21).getTime();\n        var summerStartMS = new Date(now.getFullYear(), 5, 21).getTime();\n        var summerEndMS = new Date(now.getFullYear(), 8, 23).getTime();\n        var fallStartMS = new Date(now.getFullYear(), 8, 23).getTime();\n        var fallEndMS = new Date(now.getFullYear() - 1, 11, 21).getTime();\n        ctx.beginPath();\n        ctx.strokeStyle = \"#8FE4FF\";\n        ctx.lineWidth = radius * 0.06;\n        ctx.arc(0, 0, radius, getPosition(winterStartMS), getPosition(winterEndMS) - 0.05);\n        ctx.stroke();\n        ctx.closePath();\n        ctx.beginPath();\n        ctx.strokeStyle = \"#BCFF79\";\n        ctx.lineWidth = radius * 0.06;\n        ctx.arc(0, 0, radius, getPosition(springStartMS), getPosition(springEndMS) - 0.05);\n        ctx.stroke();\n        ctx.closePath();\n        ctx.beginPath();\n        ctx.strokeStyle = \"#FFED48\";\n        ctx.lineWidth = radius * 0.06;\n        ctx.arc(0, 0, radius, getPosition(summerStartMS), getPosition(summerEndMS) - 0.05);\n        ctx.stroke();\n        ctx.closePath();\n        ctx.beginPath();\n        ctx.strokeStyle = \"#FFBC7E\";\n        ctx.lineWidth = radius * 0.06;\n        ctx.arc(0, 0, radius, getPosition(fallStartMS), getPosition(fallEndMS) - 0.05);\n        ctx.stroke();\n        ctx.closePath();\n      }\n\n      function drawTime(ctx, radius) {\n        var now = new Date();\n        var nowMS = now.getTime();\n        ctx.beginPath();\n        ctx.strokeStyle = \"white\";\n        ctx.lineWidth = radius * 0.02;\n        ctx.lineCap = \"round\";\n        ctx.moveTo(0, 0);\n        ctx.rotate(getPosition(nowMS) + .5 * Math.PI);\n        ctx.lineTo(0, -radius * 0.9);\n        ctx.stroke();\n        ctx.closePath();\n        ctx.beginPath();\n        ctx.strokeStyle = \"rgba(0, 0, 0, 0.35)\";\n        ctx.rotate(-(getPosition(nowMS) + .5 * Math.PI));\n        ctx.lineCap = \"square\";\n        ctx.lineWidth = radius * 0.06;\n        ctx.arc(0, 0, radius, getPosition(new Date(now.getFullYear(), 0, 1).getTime()), getPosition(nowMS));\n        ctx.stroke();\n        ctx.closePath();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        style: {\n          backgroundImage: \"url(\".concat(this.props.image, \")\"),\n          backgroundColor: this.props.color\n        },\n        className: \"module time\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"time\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(Moment, {\n        format: \"h:mm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"ampm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(Moment, {\n        format: \"A\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"date\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(Moment, {\n        format: \"dddd, MMMM Do\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        ref: \"clockWrapper\",\n        className: \"clock\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"canvas\", {\n        width: this.state.clockSize + \"px\",\n        height: this.state.clockSize + \"px\",\n        ref: \"canvas\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return Time;\n}(Component);\n\nexport default Time;","map":{"version":3,"sources":["/Users/nicholasvolpe/Desktop/view/client/src/modules/Time.js"],"names":["React","Component","Moment","Time","state","clockSize","canvas","refs","setState","clockWrapper","offsetWidth","ctx","getContext","radius","height","scale","translate","setInterval","clearRect","width","save","drawNumbers","drawSeasons","drawTime","restore","ang","font","fillStyle","textBaseline","textAlign","months","forEach","month","num","Math","PI","rotate","fillText","getPosition","ms","now","Date","yearStartMS","getFullYear","getTime","yearEndMS","totalDistanceMS","totalDistanceRadians","distanceMS","distanceRatio","winterStartMS","winterEndMS","springStartMS","springEndMS","summerStartMS","summerEndMS","fallStartMS","fallEndMS","beginPath","strokeStyle","lineWidth","arc","stroke","closePath","nowMS","lineCap","moveTo","lineTo","backgroundImage","props","image","backgroundColor","color"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Moment from \"react-moment\";\nimport './Time.scss';\n\nclass Time extends Component {\n  state = {\n    clockSize: \"996\"\n  }\n\n  componentDidMount() {\n    var canvas = this.refs.canvas;\n    //canvas.style.width = \"80%\";\n    //canvas.style.height = \"80%\";\n\n    this.setState({clockSize: this.refs.clockWrapper.offsetWidth});\n\n    const ctx = this.refs.canvas.getContext('2d');\n    var radius = canvas.height / 4;\n    ctx.scale(2, 2);\n    ctx.translate(radius, radius);\n    radius = radius * 0.8;\n\n    setInterval(function () {\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      ctx.save();\n      drawNumbers(ctx, radius);\n      drawSeasons(ctx, radius);\n      drawTime(ctx, radius);\n      ctx.restore();\n    }, 1000);\n\n    function drawNumbers(ctx, radius) {\n      var ang;\n      ctx.font = radius * 0.15 + \"px arial\";\n      ctx.fillStyle = \"white\";\n      ctx.textBaseline = \"middle\";\n      ctx.textAlign = \"center\";\n      var months = [\n        \"Jan\",\n        \"•\",\n        \"•\",\n        \"Apr\",\n        \"•\",\n        \"•\",\n        \"Jul\",\n        \"•\",\n        \"•\",\n        \"Oct\",\n        \"•\",\n        \"•\"\n      ];\n      months.forEach(function (month, num) {\n        ang = num * Math.PI / 6;\n        ctx.rotate(ang);\n        ctx.translate(0, -radius * 0.75);\n        ctx.rotate(-ang);\n        ctx.fillText(month, 0, 0);\n        ctx.rotate(ang);\n        ctx.translate(0, radius * 0.75);\n        ctx.rotate(-ang);\n      });\n    }\n\n    function getPosition(ms) {\n      var now = new Date();\n      var yearStartMS = new Date(now.getFullYear(), 0, 1).getTime();\n      var yearEndMS = new Date(now.getFullYear(), 11, 31).getTime();\n\n      var totalDistanceMS = yearEndMS - yearStartMS;\n      var totalDistanceRadians = 2 * Math.PI;\n\n      var distanceMS = ms - yearStartMS;\n\n      var distanceRatio = distanceMS / totalDistanceMS;\n\n      return totalDistanceRadians * distanceRatio - (.5 * Math.PI);\n    }\n\n    function drawSeasons(ctx, radius) {\n      var now = new Date();\n      var winterStartMS = new Date(now.getFullYear() - 1, 11, 21).getTime();\n      var winterEndMS = new Date(now.getFullYear(), 2, 20).getTime();\n\n      var springStartMS = new Date(now.getFullYear(), 2, 20).getTime();\n      var springEndMS = new Date(now.getFullYear(), 5, 21).getTime();\n\n      var summerStartMS = new Date(now.getFullYear(), 5, 21).getTime();\n      var summerEndMS = new Date(now.getFullYear(), 8, 23).getTime();\n\n      var fallStartMS = new Date(now.getFullYear(), 8, 23).getTime();\n      var fallEndMS = new Date(now.getFullYear() - 1, 11, 21).getTime();\n\n      ctx.beginPath();\n      ctx.strokeStyle = \"#8FE4FF\";\n      ctx.lineWidth = radius * 0.06;\n      ctx.arc(0, 0, radius, getPosition(winterStartMS), getPosition(winterEndMS) - 0.05);\n      ctx.stroke();\n      ctx.closePath();\n\n      ctx.beginPath();\n      ctx.strokeStyle = \"#BCFF79\";\n      ctx.lineWidth = radius * 0.06;\n      ctx.arc(0, 0, radius, getPosition(springStartMS), getPosition(springEndMS) - 0.05);\n      ctx.stroke();\n      ctx.closePath();\n\n      ctx.beginPath();\n      ctx.strokeStyle = \"#FFED48\";\n      ctx.lineWidth = radius * 0.06;\n      ctx.arc(0, 0, radius, getPosition(summerStartMS), getPosition(summerEndMS) - 0.05);\n      ctx.stroke();\n      ctx.closePath();\n\n      ctx.beginPath();\n      ctx.strokeStyle = \"#FFBC7E\";\n      ctx.lineWidth = radius * 0.06;\n      ctx.arc(0, 0, radius, getPosition(fallStartMS), getPosition(fallEndMS) - 0.05);\n      ctx.stroke();\n      ctx.closePath();\n    }\n\n    function drawTime(ctx, radius) {\n      var now = new Date();\n      var nowMS = now.getTime();\n\n      ctx.beginPath();\n      ctx.strokeStyle = \"white\";\n      ctx.lineWidth = radius * 0.02;\n      ctx.lineCap = \"round\";\n      ctx.moveTo(0, 0);\n      ctx.rotate(getPosition(nowMS) + (.5 * Math.PI));\n      ctx.lineTo(0, -radius * 0.9);\n      ctx.stroke();\n      ctx.closePath();\n\n      ctx.beginPath();\n      ctx.strokeStyle = \"rgba(0, 0, 0, 0.35)\";\n      ctx.rotate(-(getPosition(nowMS) + (.5 * Math.PI)));\n      ctx.lineCap = \"square\";\n      ctx.lineWidth = radius * 0.06;\n      ctx.arc(0, 0, radius, getPosition(new Date(now.getFullYear(), 0, 1).getTime()), getPosition(nowMS));\n      ctx.stroke();\n      ctx.closePath();\n    }\n  }\n\n  render() {\n    return (\n      <div style={{ backgroundImage: `url(${this.props.image})`, backgroundColor: this.props.color }} className=\"module time\">\n        <div className=\"content\">\n          <div className=\"time\">\n            <Moment format=\"h:mm\" /><span className=\"ampm\"><Moment format=\"A\" /></span>\n          </div>\n          <div className=\"date\">\n            <Moment format=\"dddd, MMMM Do\" />\n          </div>\n          <div ref=\"clockWrapper\" className=\"clock\"><canvas width={this.state.clockSize + \"px\"} height={this.state.clockSize + \"px\"} ref=\"canvas\"></canvas></div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Time;"]},"metadata":{},"sourceType":"module"}